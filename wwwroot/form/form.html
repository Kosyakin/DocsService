<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <title>DocsService</title>
    <link rel="stylesheet" href="../form/style.css">
</head>
<body>
    <header>
        <div class="header-line"></div>
        <div class="header-line-2"></div>
    </header>
    <div class="page-container">
        <div class="auth-form userInfoBtn" data-email="{{Email}}" id="userInfoBtn">
            
            <div class="user-compact-view">
                <img src="../form/images/User.png" class="img-userInfo-btn" />
                <span class="user-name-compact">{{UserName}}</span>
            
            </div>

            <div class="user-details-container">
                <div class="user-info-content">
                    <div class="user-info-card">
                        <p><strong>Имя:</strong> {{UserName}}</p>
                        <p><strong>Должность:</strong> {{Position}}</p>
                        <p><strong>Номер документа:</strong> {{DocumentNumber}}</p>
                        <p><strong>Почта:</strong> {{Email}}</p>
                    </div>

                    <div class="reminder-setting">
                        <p><strong>Я хочу, чтобы приходили напоминания</strong></p>
                        <input type="checkbox" id="reminderToggle" checked/>
                    </div>
                    <div class="reminder-section" style="display:block;" id="reminderCard">
                        
                        <div class="reminder-card" >
                            <div class="reminder-setting">
                                <p class="reminder-label"><strong>Дата напоминания о проведении инструктажа по ОТ:</strong></p>
                                <input type="date" id="trainingReminder" class="reminder-input" value="{{TrainingReminderDate}}"  />
                            </div>
                            <div class="reminder-setting">
                                <p class="reminder-label"><strong>Дата 2-го напоминания о проведении инструктажа по ОТ:</strong></p>
                                <input type="date" id="trainingReminderOT2" class="reminder-input" value="{{TrainingReminderDateOT2}}"/>
                            </div>
                            <div class="reminder-setting">
                                <p class="reminder-label"><strong>Дата напоминания о проведении инструктажа по ППБ:</strong></p>
                                <input type="date" id="trainingReminderPB" class="reminder-input" value="{{TrainingReminderDatePB}}"/>
                            </div>
                            <button id="saveReminderBtn" class="save-btn">Сохранить</button>
                        </div> 
                    </div>
                    

                    </div>
                </div>
            </div>
        </div>

        <div class="form-with-tabs">
            <div class="form-tabs" id="form-tabs">
                <div class="tab active" data-tab="ot">ОТ</div>
                <div class="tab" data-tab="pb">ППБ</div>
                <div class="tab" data-tab="gocs">ГОиЧС</div>

            </div>

            <div class="form-container" data-tab-content="ot">


                <h1>Формирование листа регистрации инструктажа по охране труда</h1>
                <!--<img src="images/File.png" class="img-file" />-->

                <form id="dataForm" method="post" action="/Form/SubmitData" class="dynamicForm">
                    <div class="input-group">
                        <input type="date" id="date" name="date" min="1900-01-01" max="2100-12-31" required>
                    </div>


                    <div class="input-group">

                        <button class="additional-btn" id="edit">
                            <img src="../form/images/Users.png" class="additional-btn-img">

                        </button>

                        <div class="custom-select" onclick="toggleDropdown(this.parentElement)">
                            Выбор сотрудников
                        </div>

                        <div class="dropdown-content dropdown-emp" id="dropdown0">
                            
                        </div>




                    </div>

                    <div class="input-group">
                        <div class="custom-select" onclick="toggleDropdown(this.parentElement)">
                            Вид инструктажа по охране труда
                        </div>
                        <input type="hidden" name="instructionType" id="instructionType">
                        <div class="dropdown-content">
                            <div class="dropdown-item" name="typeInstr" onclick="selectItem(this, 'Первичный')">Первичный</div>
                            <div class="dropdown-item" name="typeInstr" onclick="selectItem(this, 'Повторный')">Повторный</div>
                            <div class="dropdown-item" name="typeInstr" onclick="selectItem(this, 'Внеплановый')">Внеплановый</div>
                            <div class="dropdown-item" name="typeInstr" onclick="selectItem(this, 'Целевой')">Целевой</div>
                        </div>

                    </div>

                    <div class="input-group">
                        <input placeholder="Причина" name="reason" id="reason">
                        
                    </div>

                    <div class="input-group" id="localActDropdownGroup">
                        <div class="custom-select" onclick="toggleDropdown(this.parentElement)">
                            Наименование локального акта
                        </div>
                        <input type="hidden" name="localAct" id="localAct">
                        <div class="dropdown-content">
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО 23-24')">СТО 23-24</div>
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО 07-01')">СТО 07-01</div>
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО 07-12')">СТО 07-12</div>
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО ЛУКОЙЛ 1.6.5')">СТО ЛУКОЙЛ 1.6.5</div>
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО ЛУКОЙЛ 1.6.6')">СТО ЛУКОЙЛ 1.6.6</div>
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО ЛУКОЙЛ 1.6.15')">СТО ЛУКОЙЛ 1.6.15</div>
                        </div>
                    </div>

                    <div class="input-group" id="localActInputFieldGroup" style="display: none;">
                        <input type="text"
                               name="localAct"
                               id="localActInputField"
                               placeholder="Введите номер СТО">
                    </div>



                    <button type="submit" id="submitBtn" class="submit-btn" disabled>Сформировать файл</button>
                </form>



                <div id="errorMessage" class="error-message"></div>
            </div>


            <div class="form-container hidden" data-tab-content="pb">


                <h1>Формирование листа учета противопожарных инструктажей</h1>
                <!--<img src="images/File.png" class="img-file" />-->

                <form id="dataForm1" method="post" action="/Form/SubmitData" class="dynamicForm">
                    <div class="input-group">
                        <input type="date" id="date1" name="date" min="1900-01-01" max="2100-12-31" required>
                    </div>

                    <div class="input-group">

                        <button class="additional-btn" id="edit1">
                            <img src="../form/images/Users.png" class="additional-btn-img">

                        </button>

                        <div class="custom-select" onclick="toggleDropdown(this.parentElement)">
                            Выбор сотрудников
                        </div>

                        <div class="dropdown-content dropdown-emp" id="dropdown1">

                        </div>



                    </div>

                    <div class="input-group">
                        <div class="custom-select" onclick="toggleDropdown(this.parentElement)">
                            Вид инструктажа по противопожарной безопасности
                        </div>
                        <input type="hidden" name="instructionType" id="instructionType1">
                        <div class="dropdown-content">
                            <div class="dropdown-item" name="typeInstr" onclick="selectItem(this, 'Первичный')">Первичный</div>
                            <div class="dropdown-item" name="typeInstr" onclick="selectItem(this, 'Повторный')">Повторный</div>
                            <div class="dropdown-item" name="typeInstr" onclick="selectItem(this, 'Внеплановый')">Внеплановый</div>

                        </div>

                    </div>

                    <!--<div class="input-group">
                        <input placeholder="Причина" name="reason" id="reason1">
                    </div>-->

                    <!--<div class="input-group" id="localActDropdownGroup1">
                        <div class="custom-select" onclick="toggleDropdown(this.parentElement)">
                            Наименование локального акта
                        </div>
                        <input type="hidden" name="localAct" id="localAct1">
                        <div class="dropdown-content">
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО 23-24')">СТО 23-24</div>
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО 07-01')">СТО 07-01</div>
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО 07-12')">СТО 07-12</div>
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО ЛУКОЙЛ 1.6.5')">СТО ЛУКОЙЛ 1.6.5</div>
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО ЛУКОЙЛ 1.6.6')">СТО ЛУКОЙЛ 1.6.6</div>
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО ЛУКОЙЛ 1.6.15')">СТО ЛУКОЙЛ 1.6.15</div>
                        </div>
                    </div>-->

                    <!--<div class="input-group" id="localActInputFieldGroup1" style="display: none;">
                        <input type="text"
                               name="localAct"
                               id="localActInputField1"
                               placeholder="Введите номер СТО">
                    </div>-->

                    

                    <button type="submit" id="submitBtn1" class="submit-btn" disabled>Сформировать файл</button>
                </form>



                <div id="errorMessage" class="error-message"></div>
            </div>



            <div class="form-container hidden" data-tab-content="gocs">


                <h1>Формирование листа регистрации инструктажа по действиям в ЧС</h1>
                <!--<img src="images/File.png" class="img-file" />-->

                <form id="dataForm2" method="post" action="/Form/SubmitData" class="dynamicForm">
                    <div class="input-group">
                        <input type="date" id="date2" name="date" min="1900-01-01" max="2100-12-31" required>
                    </div>

                    <div class="input-group">
                        <button class="additional-btn" id="edit2">
                            <img src="../form/images/Users.png" class="additional-btn-img">

                        </button>

                        <div class="custom-select" onclick="toggleDropdown(this.parentElement)">
                            Выбор сотрудников
                        </div>

                        <div class="dropdown-content dropdown-emp" id="dropdown2">

                        </div>



                    </div>

                    <!--<div class="input-group">
                        <div class="custom-select" onclick="toggleDropdown(this.parentElement)">
                            Вид инструктажа по охране труда
                        </div>
                        <input type="hidden" name="instructionType" id="instructionType2">
                        <div class="dropdown-content">
                            <div class="dropdown-item" name="typeInstr" onclick="selectItem(this, 'Первичный')">Первичный</div>
                            <div class="dropdown-item" name="typeInstr" onclick="selectItem(this, 'Повторный')">Повторный</div>


                        </div>

                    </div>-->

                    <!--<div class="input-group">
                        <input placeholder="Причина" name="reason" id="reason2">
                    </div>-->

                    <!--<div class="input-group" id="localActDropdownGroup">
                        <div class="custom-select" onclick="toggleDropdown(this.parentElement)">
                            Наименование локального акта
                        </div>
                        <input type="hidden" name="localAct" id="localAct2">
                        <div class="dropdown-content">
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО 23-24')">СТО 23-24</div>
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО 07-01')">СТО 07-01</div>
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО 07-12')">СТО 07-12</div>
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО ЛУКОЙЛ 1.6.5')">СТО ЛУКОЙЛ 1.6.5</div>
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО ЛУКОЙЛ 1.6.6')">СТО ЛУКОЙЛ 1.6.6</div>
                            <div class="dropdown-item" onclick="selectItem(this, 'СТО ЛУКОЙЛ 1.6.15')">СТО ЛУКОЙЛ 1.6.15</div>
                        </div>
                    </div>-->

                    <!--<div class="input-group" id="localActInputFieldGroup2" style="display: none;">
                        <input type="text"
                               name="localAct"
                               id="localActInputField2"
                               placeholder="Введите номер СТО">
                    </div>-->

                    <button type="submit" id="submitBtn2" class="submit-btn" disabled>Сформировать файл</button>
                </form>



                <div id="errorMessage" class="error-message"></div>
            </div>





        </div>

        <div id="form-edit-emp" class="form-edit-emp hidden">

            <div class="edit-employees" id="edit-employees">
                <div class="table-actions">
                    <button class="table-btn" id="backBtn">← Назад</button>
                    <button class="table-btn" id="confirmSave">Сохранить</button>
                </div>

                <h1>Редактирование списка сотрудников</h1>
                <!--<img src="images/Edit.png" class="img-file" />-->


                <div class="table-container">
                    <table class="employees-table" id="employeesTable">
                        <thead>
                            <tr>
                                <th>Фамилия</th>
                                <th>Имя</th>
                                <th>Отчество</th>
                                <th>Дата рождения</th>
                                <th>Должность</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody id="table">
                            



                            <tr id="addEmp-tr">
                                <td><input type="text" placeholder="Фамилия"></td>
                                <td><input type="text" placeholder="Имя"></td>
                                <td><input type="text" placeholder="Отчество"></td>
                                <td><input type="date" placeholder="Дата рождения" min="1900-01-01" max="2100-12-31"></td>
                                <td><input type="text" placeholder="Должность"></td>
                                <td><button id="addEmployee" class="table-btn-add-emp"><img class="table-btn-add-emp-img" src="../form/images/User plus.png" /></button></td>

                            </tr>

                        </tbody>

                    </table>


                </div>


               
            </div>
        </div>

        <div id="confirmDialog" class="modal hidden">
            <div class="modal-content">
                <p>Обратите внимание, что зменения не будут сохранены.</p>
                <div class="modal-buttons">
                    <button id="confirmCancel" class="table-btn">Отмена</button>
                    <button id="confirmDiscard" class="table-btn">Не сохранять</button>
                    <!--<button id="confirmSave" class="table-btn">Сохранить</button>-->
                </div>
            </div>
        </div>

        <div id="confirmDialogDel" class="modal hidden">
            <div class="modal-content">
                <p>Вы уверены, что хотите удалить данного сотрудника из списка?</p>
                <div class="modal-buttons">
                    <button id="confirmDel" class="table-btn">Да</button>
                    <button id="nconfirmDel" class="table-btn">Нет</button>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-line"></div>
        <div class="footer-line-2"></div>
        <img src="../form/images/logo.png" class="footer-logo" />

    </footer>
    <script src="../form/app1.js"></script>
    
</body>

</html>